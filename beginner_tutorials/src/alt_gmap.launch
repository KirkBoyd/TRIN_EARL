<launch>

<param name="/use_sim_time" value="false"/>
<node pkg="rviz" type="rviz" name="rviz" output="screen" />

<node pkg="image_transport_package" type="scan_test" name="laser_scan" output="screen">
  <param name="frame_id" value="laser_frame"/>
  <param name="calibrate_time" type="bool" value="true"/>  
  <param name="intensity" type="bool" value="false"/>
  <param name="min_ang" value="0"/>   
  <param name="max_ang" value="3.14"/>    
  <param name="cluster" value="1"/>
</node>

<node pkg="beginner_tutorials" type="odometry_test" name="odom" output="screen">
</node>

  <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
    <rosparam>
      map_frame: map
      odom_frame: odom
      map_update_interval: 1.0
      maxUrange: 30.0
      maxRange: 60.0
      sigma: 0.05
      kernelSize: 1
      lstep: 0.05
      astep: 0.05
      iterations: 5
      lsigma: 0.075
      ogain: 3.0
      lskip: 0
      linearUpdate: 0.5
      angularUpdate: 0.436
      temporalUpdate: -1.0
      resampleThreshold: 0.5
      particles: 80
      xmin: -1.0
      ymin: -1.0
      xmax: 1.0
      ymax: 1.0
      delta: 0.025
      llsamplerange: 0.01
      llsamplestep: 0.01
      lasamplerange: 0.005
      lasamplestep: 0.005
      base_frame: base_link
    </rosparam>

    <remap from="/scanmatcher_frame" to="/odom" />
  <param name="scan_topic" value="/scan"/>
  <param name="odom_topic" value="/odom"/>
 <param name="use_tf_scan_transformation" value="false"/>
 
</node>

<node pkg="tf" type="static_transform_publisher" name="base_to_laser_broadcaster"  args="0 0 0 0 0 0 /base_link /laser_frame 50" /> 


</launch>